<%= form_for [@category, @question] do |f| %>
 
    <% if @question.errors.any? %>
	    <div id="error_explanation" class = "alert alert-danger">
		      <h3>
		        <%= pluralize(@question.errors.count, "error") %> prohibited
		       	this question from being saved:
		      </h3>
			      <ul>
			        <% @question.errors.full_messages.each do |msg| %>
			          <li><%= msg %></li>
			        <% end %>
			      </ul>
	    </div>
	<% end %>

	

	<div class="field form-group">
	<p>
		<%= f.label :category_id, class: 'control-label'%>	
		<%= f.select :category_id, options_from_collection_for_select(Category.all, :id, :categoryBody , {:selected => @category.id})%>

	</p>
	</div>

	<div class="field form-group">
	<p>
		<%= f.label :body, class: 'control-label' %><br>
		<%= f.text_area :body, class: 'form-control' %>
	</p>
	</div>

	<h2>Answers</h2>
	<div id="answers">
		<table class="table">
			<thead>
				<tr>
					<th>Answer</th>
					<th>isCorrect</th>
				</tr>
			</thead>
			<tbody id="answer_table">
				<%= f.fields_for :answers do |answer| %>
					
							<%= render 'answer_fields', f: answer %>


						
				<% end %>
			</tbody>
		</table>
	</div>

	<div class="links">
		<div id="button_text">
          	<button type="button" class="btn btn-primary">
          		<%= link_to_add_association f, :answers, :"data-association-insertion-node" => "tbody#answer_table", :"data-association-insertion-method" => "append", :partial => "answer_fields", :class => "button" do %>Add answer <% end %>
          	</button>
        </div>
	</div>

	<br><br>

	<div class="actions form-group" id="button_text">
	<p>
	<%= button_tag(type: 'submit', class: "btn btn-primary button-submit") do %>
 	Submit
	<% end %>
	</p>
	</div>

<% end %>